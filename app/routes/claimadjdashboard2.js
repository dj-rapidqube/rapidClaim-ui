import Ember from 'ember';

export default Ember.Route.extend({
   /* actions:{
      getimage:function(){

         var insuredUserID =this.controllerFor('claimadjdashboard').get('insuredUserID');
       console.log("insuredUserID   1:",insuredUserID);
       this.controllerFor('claimadjdashboard2').set('insuredUserID',insuredUserID);
       var mycontroller =this;
      $.ajax({
            url: 'http://192.168.0.20:8082/images/id?userid='+insuredUserID ,
            type: 'GET',
            accepts: 'application/json',
           
             success: function(data) {
                console.log("respone ::"+JSON.stringify(data));
                var imageDownloadUrl =data.images[0].url;
                console.log("imageDownloadUrl",imageDownloadUrl);
                mycontroller.controllerFor('claimadjdashboard2').set('imageDownloadUrl',imageDownloadUrl);
                return data;
                    
            },
            error: function(err) {
                console.log(data);
                console.log(err);
                console.log('DEBUG: GET Enquiries Failed');
            }
        }); 

    }
      }
    ,*/
    model(){
         this.controllerFor('claimadjdashboard2').set('isshowclaimform',true);
         this.controllerFor('examinerdashbord2').set('isShowingModalsss',false);
       
        this.controllerFor('claimadjdashboard2').set("isShowingModalss",false);
        this.controllerFor('claimadjdashboard2').set("isShowingModals",false);
        this.controllerFor('claimadjdashboard2').set("isShowingModal",false);

         var claimadjustertoken = sessionStorage.getItem('token') ;
        console.log('claimadjustertoken from model :' +claimadjustertoken);
        this.controllerFor('claimadjdashboard2').set('claimadjustertoken', claimadjustertoken);

        var claimno =this.controllerFor('claimadjdashboard').get('claimno');
        console.log("claimno :"+claimno);
        this.controllerFor('claimadjdashboard2').set('claimno',claimno);

        var title =this.controllerFor('claimadjdashboard').get('title');
        console.log("title :"+title);
        this.controllerFor('claimadjdashboard2').set('title',title);

        var damagedetails =this.controllerFor('claimadjdashboard').get('damagedetails');
        console.log("damagedetails :"+damagedetails);
        this.controllerFor('claimadjdashboard2').set('damagedetails',damagedetails);

         var approvedclaim =this.controllerFor('claimadjdashboard').get('approvedclaim');
       console.log("approvedclaim :"+approvedclaim);
       this.controllerFor('claimadjdashboard2').set('approvedclaim',approvedclaim);

        var totaldamagevalue =this.controllerFor('claimadjdashboard').get('totaldamagevalue');
        console.log("totaldamagevalue :"+totaldamagevalue);
        this.controllerFor('claimadjdashboard2').set('totaldamagevalue',totaldamagevalue);
        
        var totalclaimvalue =this.controllerFor('claimadjdashboard').get('totalclaimvalue');
        console.log("totalclaimvalue :"+totalclaimvalue);
        this.controllerFor('claimadjdashboard2').set('totalclaimvalue',totalclaimvalue);

        var assesseddamagevalue =this.controllerFor('claimadjdashboard').get('assesseddamagevalue');
        console.log("assesseddamagevalue :"+assesseddamagevalue);
        this.controllerFor('claimadjdashboard2').set('assesseddamagevalue',assesseddamagevalue);

        var assessedclaimvalue =this.controllerFor('claimadjdashboard').get('assessedclaimvalue');
        console.log("assessedclaimvalue :"+assessedclaimvalue);
        this.controllerFor('claimadjdashboard2').set('assessedclaimvalue',assessedclaimvalue);

       var negotiationlist =this.controllerFor('claimadjdashboard').get('negotiationlist');
        console.log("negotiationlist :"+ JSON.stringify(negotiationlist));
        this.controllerFor('claimadjdashboard2').set('negotiationlist',negotiationlist);

        //to show claimadjuster and public ajuster previous negotiation
        var claimadjsterarray =this.controllerFor('claimadjdashboard').get('claimadjsterarray');
        console.log("claimadjsterarray :"+ JSON.stringify(claimadjsterarray));
        this.controllerFor('claimadjdashboard2').set('claimadjsterarray',claimadjsterarray);

        var pubadjusterarray =this.controllerFor('claimadjdashboard').get('pubadjusterarray');
        console.log("pubadjusterarray :"+ JSON.stringify(pubadjusterarray));
        this.controllerFor('claimadjdashboard2').set('pubadjusterarray',pubadjusterarray);

        //to show date according to status 
       var notifieddate =this.controllerFor('claimadjdashboard').get('notifieddate');
       console.log("notifieddate :"+notifieddate);
       if (notifieddate === "0001-01-01"){
         this.controllerFor('claimadjdashboard2').set('notifieddate',null);
       }else{
        this.controllerFor('claimadjdashboard2').set('notifieddate',notifieddate);
       }
       
       var submitdate =this.controllerFor('claimadjdashboard').get('submitdate');
       console.log("submitdate :"+submitdate);
       if (submitdate === "0001-01-01"){
         this.controllerFor('claimadjdashboard2').set('submitdate',null);
       }else{
        this.controllerFor('claimadjdashboard2').set('submitdate',submitdate);
       }
       
       var examinedate =this.controllerFor('claimadjdashboard').get('examinedate');
       console.log("examinedate :"+examinedate);
       if (examinedate === "0001-01-01"){
         this.controllerFor('claimadjdashboard2').set('examinedate',null);
       }else{
        this.controllerFor('claimadjdashboard2').set('examinedate',examinedate);
       }
      
       var validatedate =this.controllerFor('claimadjdashboard').get('validatedate');
       console.log("validatedate :"+validatedate);
       if (validatedate === "0001-01-01"){
         this.controllerFor('claimadjdashboard2').set('validatedate',null);
       }else{
        this.controllerFor('claimadjdashboard2').set('validatedate',validatedate);
       }
      
       var approvrdate =this.controllerFor('claimadjdashboard').get('approvrdate');
       console.log("approvrdate :"+approvrdate);
       if (approvrdate === "0001-01-01"){
         this.controllerFor('claimadjdashboard2').set('approvrdate',null);
       }else{
        this.controllerFor('claimadjdashboard2').set('approvrdate',approvrdate);
       }
      
       var settledate =this.controllerFor('claimadjdashboard').get('settledate');
       console.log("settledate :"+settledate);
       if (settledate === "0001-01-01"){
         this.controllerFor('claimadjdashboard2').set('settledate',null);
       }else{
        this.controllerFor('claimadjdashboard2').set('settledate',settledate);
       }
      
       
       var publicadjusterid = this.controllerFor('claimadjdashboard').get('publicadjusterid');
       //var publicadjusterName = localStorage.selectedname;
       console.log("publicadjusterid   1:",publicadjusterid);


      //to footer part  settele time
   /*   var Average =this.controllerFor('claimadjdashboard').get('Average');
      console.log("Average next :"+JSON.parse(Average));
      this.controllerFor('claimadjdashboard2').set('Average',JSON.parse(Average));

      var Longest =this.controllerFor('claimadjdashboard').get('Longest');
      console.log("Average next :"+JSON.parse(Longest));
      this.controllerFor('claimadjdashboard2').set('Longest',JSON.parse(Longest));

      var Shortest =this.controllerFor('claimadjdashboard').get('Shortest');
      console.log("Average next :"+JSON.parse(Shortest));
      this.controllerFor('claimadjdashboard2').set('Shortest',JSON.parse(Shortest));
*/
    /*  var approvedstatuscount =this.controllerFor('claimadjdashboard').get('approvedstatuscount');
      this.controllerFor('claimadjdashboard2').set('approvedstatuscount',approvedstatuscount);

      var examinedstatuscount =this.controllerFor('claimadjdashboard').get('examinedstatuscount');
      this.controllerFor('claimadjdashboard2').set('examinedstatuscount',examinedstatuscount);

      var Notifiedstatuscount =this.controllerFor('claimadjdashboard').get('Notifiedstatuscount');
      this.controllerFor('claimadjdashboard2').set('Notifiedstatuscount',Notifiedstatuscount);

      var Submittedstatuscount =this.controllerFor('claimadjdashboard').get('Submittedstatuscount');
      this.controllerFor('claimadjdashboard2').set('Submittedstatuscount',Submittedstatuscount);

      var Validatedstatuscount =this.controllerFor('claimadjdashboard').get('Validatedstatuscount');
      this.controllerFor('claimadjdashboard2').set('Validatedstatuscount',Validatedstatuscount);

      var Settledstatuscount =this.controllerFor('claimadjdashboard').get('Settledstatuscount');
      this.controllerFor('claimadjdashboard2').set('Settledstatuscount',Settledstatuscount);

       var Rejectedstatuscount =this.controllerFor('claimadjdashboard').get('Rejectedstatuscount');
      this.controllerFor('claimadjdashboard2').set('Rejectedstatuscount',Rejectedstatuscount);
***/
      var insuredUserID =this.controllerFor('claimadjdashboard').get('insuredUserID');
       console.log("insuredUserID   1:",insuredUserID);
       this.controllerFor('claimadjdashboard2').set('insuredUserID',insuredUserID);

        var mycontroller =this;
      $.ajax({
            url: 'http://192.168.0.20:8082/images/id?userid='+insuredUserID ,
            type: 'GET',
            accepts: 'application/json',
            headers:{
               'x-access-token':claimadjustertoken,
             } ,
             success: function(data) {
                console.log("headr part ::"+JSON.stringify(data));
                
                //var imageDownloadUrl =data.images[0].url;
                if(data.images.length !== null){
                  for(var i=0 ;i< data.images.length ;i++){
                var imageDownloadUrl_1 =data.images[0].url;
                 console.log("imageDownloadUrl_1",imageDownloadUrl_1);
                mycontroller.controllerFor('claimadjdashboard2').set('imageDownloadUrl_1',imageDownloadUrl_1);
                 var imageDownloadUrl_2 =data.images[1].url;
                   console.log("imageDownloadUrl",imageDownloadUrl);
                mycontroller.controllerFor('claimadjdashboard2').set('imageDownloadUrl_2',imageDownloadUrl_2);
                  var imageDownloadUrl_3 =data.images[2].url;
                console.log("imageDownloadUrl",imageDownloadUrl);
                mycontroller.controllerFor('claimadjdashboard2').set('imageDownloadUrl_3',imageDownloadUrl_3);
              }
                }
                return data;
                    
            },
            error: function(err) {
                
                console.log(err);
                console.log('DEBUG: GET Enquiries Failed');
            }
        }); 

    }
});
